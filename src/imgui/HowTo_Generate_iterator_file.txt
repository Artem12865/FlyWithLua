I am trying to document what is needed to use a newer version of Imgui.

The first Imgui version supported was 1.61 with FlyWithLua 2.7.0

The second Imgui version supported was 1.70 with FlyWithLua 2.7.23

This version supports Imgui 1.76 with FlyWithLua 2.7.27

William R. Good 07-01-20 



Use this perl command to generate the imgui_iterator.inl file from the imgui.h file

perl generate_imgui_bindings.pl <imgui.h >imgui_iterator.inl

Results are:

Normal Imgui functions:   Supported: 242 Unsupported: 106
Imgui DrawList functions: Supported: 36 Unsupported: 14

We need to improve the perl script so more functions are supported without having to add them manualy.


Add the following to the bottom of the generated imgui_iterator.inl file


// We are keeping all manual additions in one place to try and make it easier to track



// ***************************************ImDrawCornerFlags_ enum*******************************************************

// Manual addition ImDrawCornerFlags_ enum because Perl script did not provide so shows how you could add this enum manualy
// Have not tried this yet to see if it will work. We need to get the perl script to do much more of the work

//enum ImDrawCornerFlags_
START_ENUM(CornerFlags)
//    ImDrawCornerFlags_None      = 0,
MAKE_ENUM(ImDrawCornerFlags_None,None)
//    ImDrawCornerFlags_TopLeft   = 1 << 0, // 0x1
MAKE_ENUM(ImDrawCornerFlags_TopLeft,Left)
//    ImDrawCornerFlags_TopRight  = 1 << 1, // 0x2
MAKE_ENUM(ImDrawCornerFlags_TopRight,TopRight)
//    ImDrawCornerFlags_BotLeft   = 1 << 2, // 0x4
MAKE_ENUM(ImDrawCornerFlags_BotLeft,BotLeft)
//    ImDrawCornerFlags_BotRight  = 1 << 3, // 0x8
MAKE_ENUM(ImDrawCornerFlags_BotRight,BotRight)
//    ImDrawCornerFlags_Top       = ImDrawCornerFlags_TopLeft | ImDrawCornerFlags_TopRight,   // 0x3
MAKE_ENUM(ImDrawCornerFlags_Top,Top)
//    ImDrawCornerFlags_Bot       = ImDrawCornerFlags_BotLeft | ImDrawCornerFlags_BotRight,   // 0xC
MAKE_ENUM(ImDrawCornerFlags_Bot,Bot)
//    ImDrawCornerFlags_Left      = ImDrawCornerFlags_TopLeft | ImDrawCornerFlags_BotLeft,    // 0x5
MAKE_ENUM(ImDrawCornerFlags_Left,Left)
//    ImDrawCornerFlags_Right     = ImDrawCornerFlags_TopRight | ImDrawCornerFlags_BotRight,  // 0xA
MAKE_ENUM(ImDrawCornerFlags_Right,Right)
//    ImDrawCornerFlags_All       = 0xF     // In your function calls you may use ~0 (= all bits sets) instead of ImDrawCornerFlags_All, as a convenience
MAKE_ENUM(ImDrawCornerFlags_All,All)
END_ENUM(CornerFlags)


// *********************************************** ImDrawListFlags_ enum ***************************************************************************


// Manual addition ImDrawListFlags_ enum because Perl script did not provide so shows how you could add this enum manualy
// Have not tried this yet to see if it will work. We need to get the perl script to do much more of the work

//enum ImDrawListFlags_
START_ENUM(Flags)
//    ImDrawListFlags_None             = 0,
MAKE_ENUM(ImDrawListFlags_None,None)
//    ImDrawListFlags_AntiAliasedLines = 1 << 0,  // Lines are anti-aliased (*2 the number of triangles for 1.0f wide line, otherwise *3 the number of triangles)
MAKE_ENUM(ImDrawListFlags_AntiAliasedLines,AntiAliasedLines)
//    ImDrawListFlags_AntiAliasedFill  = 1 << 1,  // Filled shapes have anti-aliased edges (*2 the number of vertices)
MAKE_ENUM(ImDrawListFlags_AntiAliasedFill,AntiAliasedFill)
//    ImDrawListFlags_AllowVtxOffset   = 1 << 2   // Can emit 'VtxOffset > 0' to allow large meshes. Set when 'ImGuiBackendFlags_RendererHasVtxOffset' is enabled.
MAKE_ENUM(ImDrawListFlags_AllowVtxOffset,AllowVtxOffset)
END_ENUM(Flags)


// ******************************************** InputText ****************************************************************************


// IMGUI_API bool InputText(const char* label, char* buf, size_t buf_size, ImGuiInputTextFlags flags = 0, ImGuiInputTextCallback callback = NULL, void* user_data = NULL);
// Unsupported arg type  char* buf
// Unsupported arg type  size_t buf_size
// Unsupported arg type  ImGuiInputTextCallback callback = NULL
// Unsupported arg type  void* user_data = NULL
// Manual addition InputText Function because Perl script did not provide so shows how you could add a function manualy

IMGUI_FUNCTION(InputText)
LABEL_ARG(label)
LABEL_POINTER_ARG(buf)
OPTIONAL_INT_ARG(flags, 0)
DEFAULT_ARG(ImGuiTextEditCallback, callback, NULL)
DEFAULT_ARG(void*, user_data, NULL)
CALL_FUNCTION(InputText, bool, label, buf, buf_size, flags, callback, user_data)
PUSH_BOOL(ret)
END_LABEL_POINTER(buf)
END_IMGUI_FUNC


// ****************************************** InputTextMultiline ***********************************************************************

// IMGUI_API bool InputTextMultiline(const char* label, char* buf, size_t buf_size, const ImVec2& size = ImVec2 0 0, ImGuiInputTextFlags flags = 0, ImGuiInputTextCallback callback = NULL, void* user_data = NULL);
// Unsupported arg type  char* buf
// Unsupported arg type  size_t buf_size
// Unsupported arg type  ImGuiInputTextCallback callback = NULL
// Unsupported arg type  void* user_data = NULL
// Manual addition InputTextMultiline Function because Perl script did not provide so shows how you could add a function manualy

IMGUI_FUNCTION(InputTextMultiline)
LABEL_ARG(label)
LABEL_POINTER_ARG(buf)
OPTIONAL_IM_VEC_2_ARG(size, 0, 0)
OPTIONAL_INT_ARG(flags, 0)
DEFAULT_ARG(ImGuiTextEditCallback, callback, NULL)
DEFAULT_ARG(void*, user_data, NULL)
CALL_FUNCTION(InputTextMultiline, bool, label, buf, buf_size, size, flags, callback, user_data)
PUSH_BOOL(ret)
END_LABEL_POINTER(buf)
END_IMGUI_FUNC


// ****************************************** InputTextWithHint ************************************************************************


// IMGUI_API bool InputTextWithHint(const char* label, const char* hint, char* buf, size_t buf_size, ImGuiInputTextFlags flags = 0, ImGuiInputTextCallback callback = NULL, void* user_data = NULL);
// Unsupported arg type  char* buf
// Unsupported arg type  size_t buf_size
// Unsupported arg type  ImGuiInputTextCallback callback = NULL
// Unsupported arg type  void* user_data = NULL
// Manual addition InputTextWithHint Function because Perl script did not provide so shows how you could add a function manualy

IMGUI_FUNCTION(InputTextWithHint)
LABEL_ARG(label)
LABEL_ARG(hint)
LABEL_POINTER_ARG(buf)
OPTIONAL_INT_ARG(flags, 0)
DEFAULT_ARG(ImGuiTextEditCallback, callback, NULL)
DEFAULT_ARG(void*, user_data, NULL)
CALL_FUNCTION(InputTextWithHint, bool, label, hint, buf, buf_size, flags, callback, user_data)
PUSH_BOOL(ret)
END_LABEL_POINTER(buf)
END_IMGUI_FUNC
